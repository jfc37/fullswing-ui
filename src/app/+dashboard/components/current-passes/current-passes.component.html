<mat-card *ngIf="model">
  <mat-card-header>Current passes</mat-card-header>
  <mat-card-content>
    <fs-loadable [model]="model">
      <p *ngIf="!hasPasses();else passes"
        data-test-id="no-current-passes">
        No current passes
      </p>
      <ng-template #passes>
        <ul data-test-id="current-passes">
          <li *ngFor="let pass of model.passes; let i=index"
            [attr.data-test-id]="'current-pass-' + i">
            {{pass.type}} <span *ngIf="pass.additionalInfo">({{pass.additionalInfo}})</span> - expires {{pass.expiry.toDateString()}}
          </li>
        </ul>
      </ng-template>
    </fs-loadable>
  </mat-card-content>
</mat-card>
